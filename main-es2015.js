(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html":
/*!**************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<app-arena></app-arena>\n<!-- <router-outlet></router-outlet> -->\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/component/role-team/role-team.component.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/component/role-team/role-team.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>{{roleTeam.Name}} 隊伍狀態 {{RTStatus[roleTeam.State]}}</p>\n<div *ngFor=\"let role of roleTeam.teamMenber\" class='role-box'>\n  <app-role [role]=role></app-role>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/component/role/role.component.html":
/*!******************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/component/role/role.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"role\">\n  <p>名稱 {{role.Name}}</p>\n  <p>狀態 {{RStatus[role.State]}}</p>\n  <p>行動值 {{role.ActionPoint}}</p>\n  <p>生命值 {{role.HealthPoint}}</p>\n  <p>魔力值 {{role.MagicPoint}}</p>\n</div>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/component/traffic-light/traffic-light.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/component/traffic-light/traffic-light.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<h1>{{TLightStatus[traflicLight.State]}}</h1>\n<h1>{{traflicLight.InGreenTime}}</h1>\n<h1>{{traflicLight.InYellowTime}}</h1>\n<h1>{{traflicLight.InRedTime}}</h1>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/page/arena/arena.component.html":
/*!***************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/page/arena/arena.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<p>場地狀態 {{AStatus[Arena.State]}}</p>\n<hr class='hr-line'>\n\n<app-role-team [roleTeam]=Arena.teamA></app-role-team>\n<hr class='hr-line'>\n\n<app-role-team [roleTeam]=Arena.teamB></app-role-team>\n<hr class='hr-line'>\n\n<p *ngFor=\"let msg of Arena.eventLog.reverse()\">{{msg}}</p>\n"

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



const routes = [];
let AppRoutingModule = class AppRoutingModule {
};
AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let AppComponent = class AppComponent {
    constructor() {
        this.title = 'js-fsm';
    }
};
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html"),
        styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
    })
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _component_traffic_light_traffic_light_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component/traffic-light/traffic-light.component */ "./src/app/component/traffic-light/traffic-light.component.ts");
/* harmony import */ var _component_role_role_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./component/role/role.component */ "./src/app/component/role/role.component.ts");
/* harmony import */ var _page_arena_arena_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./page/arena/arena.component */ "./src/app/page/arena/arena.component.ts");
/* harmony import */ var _component_role_team_role_team_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./component/role-team/role-team.component */ "./src/app/component/role-team/role-team.component.ts");









let AppModule = class AppModule {
};
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
        declarations: [
            _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
            _component_traffic_light_traffic_light_component__WEBPACK_IMPORTED_MODULE_5__["TrafficLightComponent"],
            _component_role_role_component__WEBPACK_IMPORTED_MODULE_6__["RoleComponent"],
            _page_arena_arena_component__WEBPACK_IMPORTED_MODULE_7__["ArenaComponent"],
            _component_role_team_role_team_component__WEBPACK_IMPORTED_MODULE_8__["RoleTeamComponent"]
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
            _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"]
        ],
        providers: [],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/component/role-team/role-team-fsm.ts":
/*!******************************************************!*\
  !*** ./src/app/component/role-team/role-team-fsm.ts ***!
  \******************************************************/
/*! exports provided: RoleTeamStatus, RoleTeamFSM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleTeamStatus", function() { return RoleTeamStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleTeamFSM", function() { return RoleTeamFSM; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/share/basic-fsm-object */ "./src/app/share/basic-fsm-object.ts");
/* harmony import */ var src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/share/basic-fsm-decorator */ "./src/app/share/basic-fsm-decorator.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../role/role-fsm */ "./src/app/component/role/role-fsm.ts");





var RoleTeamStatus;
(function (RoleTeamStatus) {
    RoleTeamStatus[RoleTeamStatus["Idle"] = 0] = "Idle";
    RoleTeamStatus[RoleTeamStatus["Ready"] = 1] = "Ready";
    RoleTeamStatus[RoleTeamStatus["Work"] = 2] = "Work";
    RoleTeamStatus[RoleTeamStatus["End"] = 3] = "End";
})(RoleTeamStatus || (RoleTeamStatus = {}));
const AllRoleTeamStatus = Object.keys(RoleTeamStatus)
    .map(key => RoleTeamStatus[key])
    .filter(value => !isNaN(Number(value)));
class RoleTeamFSM extends src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__["BasicFSMObject"] {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Life Cycle
    constructor(name) {
        super();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // State
        this.State = RoleTeamStatus.Idle;
        this.StateChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // Extended states
        /** 名稱 */
        this.Name = '';
        /** 隊員 */
        this.teamMenber = [];
        this.Name = name;
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Events
    check() {
        return true;
    }
    addAction() {
        for (const role of this.teamMenber) {
            role.addAction(random(3, 10));
        }
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Guard conditions
    isAnyoneReady() {
        return !!this.teamMenber.find(role => role.State === _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Ready);
    }
    isAnyoneWork() {
        return !!this.teamMenber.find(role => role.State === _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Work);
    }
    isNobodyReady() {
        return !this.teamMenber.find(role => role.State === _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Ready);
    }
    isNobodyWork() {
        return !this.teamMenber.find(role => role.State === _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Work);
    }
    isAllDie() {
        return !this.teamMenber.find(role => role.State !== _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Die);
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // 其他
    getReadyRole() {
        const roles = this.teamMenber.filter(role => role.State === _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Ready);
        return roles[random(0, roles.length)];
    }
    getNoDieRole() {
        const roles = this.teamMenber.filter(role => role.State !== _role_role_fsm__WEBPACK_IMPORTED_MODULE_4__["RoleStatus"].Die);
        return roles[random(0, roles.length)];
    }
}
RoleTeamFSM.EventDictionary = {}; // 必須有 不然會共用 super
RoleTeamFSM.GuardDictionary = {}; // 必須有 不然會共用 super
RoleTeamFSM.ctorParameters = () => [
    { type: String }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["State"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RoleTeamFSM.prototype, "State", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(AllRoleTeamStatus),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "check", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(RoleTeamStatus.Idle),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], RoleTeamFSM.prototype, "addAction", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(RoleTeamStatus.Idle, RoleTeamStatus.Ready),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "isAnyoneReady", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(RoleTeamStatus.Ready, RoleTeamStatus.Work),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "isAnyoneWork", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(RoleTeamStatus.Ready, RoleTeamStatus.Idle),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "isNobodyReady", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(RoleTeamStatus.Work, RoleTeamStatus.Idle),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "isNobodyWork", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])([RoleTeamStatus.Idle, RoleTeamStatus.Ready, RoleTeamStatus.Work], RoleTeamStatus.End),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleTeamFSM.prototype, "isAllDie", null);
function random(min, max) {
    return Math.floor(Math.random() * (max - min)) + min;
}


/***/ }),

/***/ "./src/app/component/role-team/role-team.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/component/role-team/role-team.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".role-box {\n  float: left;\n  padding: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93OTEzNzkxMzcvZ2l0eC9qcy1mc20vc3JjL2FwcC9jb21wb25lbnQvcm9sZS10ZWFtL3JvbGUtdGVhbS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50L3JvbGUtdGVhbS9yb2xlLXRlYW0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50L3JvbGUtdGVhbS9yb2xlLXRlYW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm9sZS1ib3gge1xuICBmbG9hdDogbGVmdDtcbiAgcGFkZGluZzogMTBweDtcbn1cbiIsIi5yb2xlLWJveCB7XG4gIGZsb2F0OiBsZWZ0O1xuICBwYWRkaW5nOiAxMHB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/component/role-team/role-team.component.ts":
/*!************************************************************!*\
  !*** ./src/app/component/role-team/role-team.component.ts ***!
  \************************************************************/
/*! exports provided: RoleTeamComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleTeamComponent", function() { return RoleTeamComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _role_team_fsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./role-team-fsm */ "./src/app/component/role-team/role-team-fsm.ts");



let RoleTeamComponent = class RoleTeamComponent {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    constructor() {
        this.RTStatus = _role_team_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleTeamStatus"];
    }
    ngOnInit() {
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _role_team_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleTeamFSM"])
], RoleTeamComponent.prototype, "roleTeam", void 0);
RoleTeamComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-role-team',
        template: __webpack_require__(/*! raw-loader!./role-team.component.html */ "./node_modules/raw-loader/index.js!./src/app/component/role-team/role-team.component.html"),
        styles: [__webpack_require__(/*! ./role-team.component.scss */ "./src/app/component/role-team/role-team.component.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], RoleTeamComponent);



/***/ }),

/***/ "./src/app/component/role/role-fsm.ts":
/*!********************************************!*\
  !*** ./src/app/component/role/role-fsm.ts ***!
  \********************************************/
/*! exports provided: RoleStatus, RoleFSM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleStatus", function() { return RoleStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleFSM", function() { return RoleFSM; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/share/basic-fsm-object */ "./src/app/share/basic-fsm-object.ts");
/* harmony import */ var src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/share/basic-fsm-decorator */ "./src/app/share/basic-fsm-decorator.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");




var RoleStatus;
(function (RoleStatus) {
    RoleStatus[RoleStatus["Idle"] = 0] = "Idle";
    RoleStatus[RoleStatus["Ready"] = 1] = "Ready";
    RoleStatus[RoleStatus["Work"] = 2] = "Work";
    RoleStatus[RoleStatus["Die"] = 3] = "Die";
})(RoleStatus || (RoleStatus = {}));
const AllRoleStatus = Object.keys(RoleStatus)
    .map(key => RoleStatus[key])
    .filter(value => !isNaN(Number(value)));
class RoleFSM extends src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__["BasicFSMObject"] {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Life Cycle
    constructor(name) {
        super();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // State
        this.State = RoleStatus.Idle;
        this.StateChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // Extended states
        /** 名稱 */
        this.Name = '';
        // 職業
        /** 行動值 */
        this.ActionPoint = 100;
        /** 生命值 */
        this.HealthPoint = 100;
        /** 魔力值 */
        this.MagicPoint = 100;
        this.Name = name;
        // console.log(AllRoleStatus);
        // console.log(RoleFSM.GuardDictionary);
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Events
    addAction(point) {
        this.ActionPoint = Math.min(this.ActionPoint + point, 100);
        return true;
    }
    startWork(cost) {
        this.ActionPoint -= cost;
        this.State = RoleStatus.Work;
        return true;
    }
    endWork() {
        this.State = RoleStatus.Idle;
        return true;
    }
    getDamage(point) {
        this.HealthPoint = Math.max(this.HealthPoint - point, 0);
        return true;
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Guard conditions
    isActionPointFull() {
        return this.ActionPoint >= 100;
    }
    isDie() {
        return this.HealthPoint <= 0;
    }
}
RoleFSM.EventDictionary = {}; // 必須有 不然會共用 super
RoleFSM.GuardDictionary = {}; // 必須有 不然會共用 super
RoleFSM.ctorParameters = () => [
    { type: String }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["State"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], RoleFSM.prototype, "State", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(RoleStatus.Idle),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Number]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], RoleFSM.prototype, "addAction", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(RoleStatus.Ready),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Number]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], RoleFSM.prototype, "startWork", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(RoleStatus.Work),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], RoleFSM.prototype, "endWork", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(AllRoleStatus),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Number]),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", void 0)
], RoleFSM.prototype, "getDamage", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(RoleStatus.Idle, RoleStatus.Ready),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleFSM.prototype, "isActionPointFull", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])([RoleStatus.Idle, RoleStatus.Ready, RoleStatus.Work], RoleStatus.Die),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], RoleFSM.prototype, "isDie", null);


/***/ }),

/***/ "./src/app/component/role/role.component.scss":
/*!****************************************************!*\
  !*** ./src/app/component/role/role.component.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC9yb2xlL3JvbGUuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/component/role/role.component.ts":
/*!**************************************************!*\
  !*** ./src/app/component/role/role.component.ts ***!
  \**************************************************/
/*! exports provided: RoleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleComponent", function() { return RoleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _role_fsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./role-fsm */ "./src/app/component/role/role-fsm.ts");



let RoleComponent = class RoleComponent {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    constructor() {
        this.RStatus = _role_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleStatus"];
    }
    ngOnInit() {
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _role_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleFSM"])
], RoleComponent.prototype, "role", void 0);
RoleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-role',
        template: __webpack_require__(/*! raw-loader!./role.component.html */ "./node_modules/raw-loader/index.js!./src/app/component/role/role.component.html"),
        styles: [__webpack_require__(/*! ./role.component.scss */ "./src/app/component/role/role.component.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], RoleComponent);



/***/ }),

/***/ "./src/app/component/traffic-light/traffic-light.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component/traffic-light/traffic-light.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudC90cmFmZmljLWxpZ2h0L3RyYWZmaWMtbGlnaHQuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/component/traffic-light/traffic-light.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/component/traffic-light/traffic-light.component.ts ***!
  \********************************************************************/
/*! exports provided: TrafficLightComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrafficLightComponent", function() { return TrafficLightComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _traflic_light_fsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./traflic-light-fsm */ "./src/app/component/traffic-light/traflic-light-fsm.ts");
/* harmony import */ var rxjs_internal_observable_interval__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/observable/interval */ "./node_modules/rxjs/internal/observable/interval.js");
/* harmony import */ var rxjs_internal_observable_interval__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_observable_interval__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");





let TrafficLightComponent = class TrafficLightComponent {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    constructor() {
        this.TLightStatus = _traflic_light_fsm__WEBPACK_IMPORTED_MODULE_2__["LightStatus"];
        this.traflicLight = new _traflic_light_fsm__WEBPACK_IMPORTED_MODULE_2__["TraflicLightFSM"]();
        // this.fsm.StateChange.subscribe(e => {
        //   console.log(e);
        // });
    }
    ngOnInit() {
        // console.log(TraflicLightFSM.AllState);
        const timer = Object(rxjs_internal_observable_interval__WEBPACK_IMPORTED_MODULE_3__["interval"])(200)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(60))
            .subscribe(_ => {
            // console.log(this.fsm.State);
            // console.log(this.fsm.ExtendedStates);
            this.traflicLight.increaseTime();
        });
    }
};
TrafficLightComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-traffic-light',
        template: __webpack_require__(/*! raw-loader!./traffic-light.component.html */ "./node_modules/raw-loader/index.js!./src/app/component/traffic-light/traffic-light.component.html"),
        styles: [__webpack_require__(/*! ./traffic-light.component.scss */ "./src/app/component/traffic-light/traffic-light.component.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], TrafficLightComponent);



/***/ }),

/***/ "./src/app/component/traffic-light/traflic-light-fsm.ts":
/*!**************************************************************!*\
  !*** ./src/app/component/traffic-light/traflic-light-fsm.ts ***!
  \**************************************************************/
/*! exports provided: LightStatus, TraflicLightFSM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LightStatus", function() { return LightStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TraflicLightFSM", function() { return TraflicLightFSM; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../share/basic-fsm-object */ "./src/app/share/basic-fsm-object.ts");
/* harmony import */ var src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/share/basic-fsm-decorator */ "./src/app/share/basic-fsm-decorator.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");




var LightStatus;
(function (LightStatus) {
    LightStatus[LightStatus["Green"] = 0] = "Green";
    LightStatus[LightStatus["Yellow"] = 1] = "Yellow";
    LightStatus[LightStatus["Red"] = 2] = "Red";
})(LightStatus || (LightStatus = {}));
const AllLightStatus = Object.keys(LightStatus)
    .map(key => LightStatus[key])
    .filter(value => !isNaN(Number(value)));
const GreenTime = 10;
const YellowTime = 10;
const RedTime = 10;
class TraflicLightFSM extends _share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__["BasicFSMObject"] {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Life Cycle
    constructor() {
        super();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // State
        // static AllState = Object.keys(LightStatus)
        //   .map(key => LightStatus[key])
        //   .filter(value => !isNaN(Number(value))); // 取出所有狀態
        this.State = LightStatus.Green;
        this.StateChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // Extended states
        this.InGreenTime = 0; // 在 綠燈秒數
        this.InYellowTime = 0; // 在 黃燈秒數
        this.InRedTime = 0; // 在 紅燈秒數
        // console.log('EventDictionary', TraflicLightFSM.EventDictionary);
        // console.log('GuardDictionary', TraflicLightFSM.GuardDictionary);
        this.setupClear();
    }
    setupClear() {
        this.StateChange.subscribe(e => {
            switch (e.to) {
                case LightStatus.Green:
                    this.InGreenTime = 0;
                    break;
                case LightStatus.Yellow:
                    this.InYellowTime = 0;
                    break;
                case LightStatus.Red:
                    this.InRedTime = 0;
                    break;
            }
        });
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Events
    increaseTime() {
        switch (this.State) {
            case LightStatus.Green:
                return this.increaseGreenTime();
            case LightStatus.Yellow:
                return this.increaseYellowTime();
            case LightStatus.Red:
                return this.increaseRedTime();
        }
    }
    increaseGreenTime() {
        this.InGreenTime++;
        return true;
    }
    increaseYellowTime() {
        this.InYellowTime++;
        return true;
    }
    increaseRedTime() {
        this.InRedTime++;
        return true;
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Guard conditions
    isInGreenTimeFull() {
        return this.InGreenTime >= GreenTime;
    }
    isInYellowTimeFull() {
        return this.InYellowTime >= YellowTime;
    }
    isInRedTimeFull() {
        return this.InRedTime >= RedTime;
    }
}
TraflicLightFSM.EventDictionary = {}; // 必須有 不然會共用 super
TraflicLightFSM.GuardDictionary = {}; // 必須有 不然會共用 super
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["State"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], TraflicLightFSM.prototype, "State", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(AllLightStatus),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "increaseTime", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(LightStatus.Green),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "increaseGreenTime", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(LightStatus.Yellow),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "increaseYellowTime", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(LightStatus.Red),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "increaseRedTime", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(LightStatus.Green, LightStatus.Yellow),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "isInGreenTimeFull", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(LightStatus.Yellow, LightStatus.Red),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "isInYellowTimeFull", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(LightStatus.Red, LightStatus.Green),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], TraflicLightFSM.prototype, "isInRedTimeFull", null);


/***/ }),

/***/ "./src/app/page/arena/arena-fsm.ts":
/*!*****************************************!*\
  !*** ./src/app/page/arena/arena-fsm.ts ***!
  \*****************************************/
/*! exports provided: ArenaStatus, ArenaFSM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArenaStatus", function() { return ArenaStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArenaFSM", function() { return ArenaFSM; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/share/basic-fsm-object */ "./src/app/share/basic-fsm-object.ts");
/* harmony import */ var src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/share/basic-fsm-decorator */ "./src/app/share/basic-fsm-decorator.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../component/role-team/role-team-fsm */ "./src/app/component/role-team/role-team-fsm.ts");






var ArenaStatus;
(function (ArenaStatus) {
    ArenaStatus[ArenaStatus["Idle"] = 0] = "Idle";
    ArenaStatus[ArenaStatus["Work"] = 1] = "Work";
    ArenaStatus[ArenaStatus["End"] = 2] = "End";
})(ArenaStatus || (ArenaStatus = {}));
const AllArenaStatus = Object.keys(ArenaStatus)
    .map(key => ArenaStatus[key])
    .filter(value => !isNaN(Number(value)));
class ArenaFSM extends src_app_share_basic_fsm_object__WEBPACK_IMPORTED_MODULE_1__["BasicFSMObject"] {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Life Cycle
    constructor(name) {
        super();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // State
        this.State = ArenaStatus.Idle;
        this.StateChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
        // Extended states
        /** 名稱 */
        this.Name = '';
        this.eventLog = [];
        this.Name = name;
    }
    get allTeam() {
        return [this.teamA, this.teamB];
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Events
    check() {
        for (const roleTeam of this.allTeam) {
            roleTeam.check();
        }
        switch (this.State) {
            case ArenaStatus.Idle:
                for (const roleTeam of this.allTeam) {
                    roleTeam.addAction();
                }
                break;
            case ArenaStatus.Work:
                const workTeam = this.allTeam.find(team => team.State === _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].Work);
                if (workTeam) {
                    return false;
                }
                for (const roleTeam of this.allTeam) {
                    if (roleTeam.State === _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].Ready) {
                        // 攻擊方
                        const AttackRole = roleTeam.getReadyRole();
                        if (!AttackRole) {
                            return false;
                        }
                        // 受攻擊方
                        let UnderAttackRole;
                        if (roleTeam === this.teamA) {
                            UnderAttackRole = this.teamB.getNoDieRole();
                        }
                        else {
                            UnderAttackRole = this.teamA.getNoDieRole();
                        }
                        if (!UnderAttackRole) {
                            return false;
                        }
                        const cost = random(30, 50);
                        const damage = random(10, 20);
                        AttackRole.startWork(cost);
                        this.addEventLog(`${AttackRole.Name} 準備攻擊`);
                        setTimeout(() => {
                            UnderAttackRole.getDamage(damage);
                            AttackRole.endWork();
                            this.addEventLog(`${AttackRole.Name} 攻擊 ${UnderAttackRole.Name} 造成 ${damage} 傷害`);
                            if (UnderAttackRole.HealthPoint <= 0) {
                                this.addEventLog(`${UnderAttackRole.Name} 屎掉了`);
                            }
                        }, 700);
                        break;
                    }
                }
                break;
        }
        return true;
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // Guard conditions
    isAnyTeamWork() {
        for (const roleTeam of this.allTeam) {
            if (roleTeam.State === _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].Ready ||
                roleTeam.State === _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].Work) {
                return true;
            }
        }
        return false;
    }
    isAllTeamIdle() {
        for (const roleTeam of this.allTeam) {
            if (roleTeam.State !== _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].Idle) {
                return false;
            }
        }
        return true;
    }
    isAnyTeamEnd() {
        for (const roleTeam of this.allTeam) {
            if (roleTeam.State === _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamStatus"].End) {
                this.addEventLog(`${roleTeam.Name} 全滅了`);
                return true;
            }
        }
        return false;
    }
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    // 其他
    addEventLog(msg) {
        if (this.eventLog.length > 10) {
            this.eventLog.shift();
        }
        this.eventLog.push(`${current()} > ${msg}`);
    }
}
ArenaFSM.EventDictionary = {}; // 必須有 不然會共用 super
ArenaFSM.GuardDictionary = {}; // 必須有 不然會共用 super
ArenaFSM.ctorParameters = () => [
    { type: String }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["State"])(),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
], ArenaFSM.prototype, "State", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Event"])(AllArenaStatus),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], ArenaFSM.prototype, "check", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(ArenaStatus.Idle, ArenaStatus.Work),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], ArenaFSM.prototype, "isAnyTeamWork", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])(ArenaStatus.Work, ArenaStatus.Idle),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], ArenaFSM.prototype, "isAllTeamIdle", null);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(src_app_share_basic_fsm_decorator__WEBPACK_IMPORTED_MODULE_2__["Guard"])([ArenaStatus.Idle, ArenaStatus.Work], ArenaStatus.End),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Function),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", []),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:returntype", Boolean)
], ArenaFSM.prototype, "isAnyTeamEnd", null);
function current(date = new Date()) {
    return moment__WEBPACK_IMPORTED_MODULE_4__(date).local().format('HH:mm:ss');
}
function random(min, max) {
    return Math.floor(Math.random() * (max - min)) + min;
}


/***/ }),

/***/ "./src/app/page/arena/arena.component.scss":
/*!*************************************************!*\
  !*** ./src/app/page/arena/arena.component.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".hr-line {\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93OTEzNzkxMzcvZ2l0eC9qcy1mc20vc3JjL2FwcC9wYWdlL2FyZW5hL2FyZW5hLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9wYWdlL2FyZW5hL2FyZW5hLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvYXJlbmEvYXJlbmEuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLmhyLWxpbmUge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbn1cbiIsIi5oci1saW5lIHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgd2lkdGg6IDEwMCU7XG59Il19 */"

/***/ }),

/***/ "./src/app/page/arena/arena.component.ts":
/*!***********************************************!*\
  !*** ./src/app/page/arena/arena.component.ts ***!
  \***********************************************/
/*! exports provided: ArenaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArenaComponent", function() { return ArenaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_component_role_role_fsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/component/role/role-fsm */ "./src/app/component/role/role-fsm.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _arena_fsm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./arena-fsm */ "./src/app/page/arena/arena-fsm.ts");
/* harmony import */ var _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../component/role-team/role-team-fsm */ "./src/app/component/role-team/role-team-fsm.ts");






let ArenaComponent = class ArenaComponent {
    // ====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====.====
    constructor() {
        this.AStatus = _arena_fsm__WEBPACK_IMPORTED_MODULE_4__["ArenaStatus"];
        this.Arena = new _arena_fsm__WEBPACK_IMPORTED_MODULE_4__["ArenaFSM"]('競技場');
        const idxArr = Array(3).fill(1).map((_, i) => i + 1);
        const teamA = new _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamFSM"]('A');
        teamA.teamMenber = idxArr.map(idx => new src_app_component_role_role_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleFSM"](`小明${idx}`));
        this.Arena.teamA = teamA;
        const teamB = new _component_role_team_role_team_fsm__WEBPACK_IMPORTED_MODULE_5__["RoleTeamFSM"]('B');
        teamB.teamMenber = idxArr.map(idx => new src_app_component_role_role_fsm__WEBPACK_IMPORTED_MODULE_2__["RoleFSM"](`小華${idx}`));
        this.Arena.teamB = teamB;
    }
    ngOnInit() {
        const timer = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["interval"])(100)
            // .pipe(take(60))
            .subscribe(_ => {
            // console.log(this.fsm.State);
            // console.log(this.fsm.ExtendedStates);
            this.Arena.check();
        });
    }
};
ArenaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-arena',
        template: __webpack_require__(/*! raw-loader!./arena.component.html */ "./node_modules/raw-loader/index.js!./src/app/page/arena/arena.component.html"),
        styles: [__webpack_require__(/*! ./arena.component.scss */ "./src/app/page/arena/arena.component.scss")]
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
], ArenaComponent);



/***/ }),

/***/ "./src/app/share/basic-fsm-decorator.ts":
/*!**********************************************!*\
  !*** ./src/app/share/basic-fsm-decorator.ts ***!
  \**********************************************/
/*! exports provided: State, Event, Guard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "State", function() { return State; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Event", function() { return Event; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Guard", function() { return Guard; });
// https://www.cnblogs.com/Wayou/p/typescript_decorator.html
// https://zhongsp.gitbooks.io/typescript-handbook/doc/handbook/Decorators.html
function oneToArr(obj) {
    return Array.isArray(obj) ? obj : [obj];
}
function State() {
    return function EStateFactory(target, propertyKey) {
        const val = target[propertyKey];
        const getter = function newGetter() {
            if (this.pState === undefined) {
                this.pState = val;
            }
            return this.pState;
        };
        const setter = function newSetter(next) {
            const old = this.pState;
            this.pState = next;
            this.StateChange.next({ from: old, to: next });
        };
        Object.defineProperty(target, propertyKey, {
            get: getter,
            set: setter,
            enumerable: true,
            configurable: true,
        });
    };
}
function Event(inState) {
    return function EventFactory(target, propertyKey, descriptor) {
        // Write Table
        const dict = target.constructor.EventDictionary;
        // console.log(target.constructor);
        for (const ele of oneToArr(inState)) {
            const list = dict.hasOwnProperty(ele) ? dict[ele] : [];
            list.push(propertyKey);
            dict[ele] = list;
        }
        // Replace
        const originalMethod = descriptor.value;
        descriptor.value = function newMethod() {
            if (!oneToArr(inState).includes(this.State)) {
                return false;
            }
            const result = originalMethod.apply(this, arguments);
            if (result) {
                this.checkAll();
            }
            return result;
        };
    };
}
function Guard(fromState, toState) {
    return function GuardFactory(target, propertyKey, descriptor) {
        // Write Table
        const dict = target.constructor.GuardDictionary;
        // console.log(target.constructor);
        for (const ele of oneToArr(fromState)) {
            const list = dict.hasOwnProperty(ele) ? dict[ele] : [];
            list.push(propertyKey);
            dict[ele] = list;
        }
        // Replace
        const originalMethod = descriptor.value;
        descriptor.value = function newMethod() {
            if (!oneToArr(fromState).includes(this.State)) {
                return false;
            }
            const result = originalMethod.apply(this, arguments);
            if (result) {
                this.State = toState;
            }
            return result;
        };
    };
}


/***/ }),

/***/ "./src/app/share/basic-fsm-object.ts":
/*!*******************************************!*\
  !*** ./src/app/share/basic-fsm-object.ts ***!
  \*******************************************/
/*! exports provided: BasicFSMObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BasicFSMObject", function() { return BasicFSMObject; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");

/*
目前先設計
狀態列表 需要在建立時 就準備好 不能變更
*/
class BasicFSMObject {
    constructor() {
        this.StateChange = new rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"]();
        // Actions and Transitions
        // 依照事件給予 反應
    }
    // Extended states(只能透過 Events 更改)
    // 其他可以觀察屬性
    // Events
    // v 哪種狀態能執行
    // v 執行之後自動檢查
    // Guard conditions
    // v 哪種狀態能檢查
    // v 通過後到哪個狀態
    // x log未通過的原因
    checkAll() {
        // tslint:disable-next-line:no-string-literal
        const funcNameList = this.constructor['GuardDictionary'][this.State];
        if (!funcNameList) {
            // 不用 check 的 屬性
            // console.log(this, this.State);
            return;
        }
        for (const funcName of funcNameList) {
            const func = this[funcName];
            if (func) {
                func.apply(this);
            }
            else {
                console.log(this, funcName);
            }
        }
    }
}
// State(只能透過 Events 更改)
// static AllState: any[] = []; // 給子類自己選擇要哪個 enum
BasicFSMObject.EventDictionary = {};
BasicFSMObject.GuardDictionary = {};


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/w91379137/gitx/js-fsm/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map